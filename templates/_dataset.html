{% extends "_base.html" %}
{% block body %}

<style>
    code.python {
        border-style: solid;
        border-width: thin;
        display: block;
        white-space: pre-wrap;
        background-color: rgba(202, 202, 202, 0.288);
        border-color: black;
    }

</style>

<article class="about-section py-5">
    <div class="container">
        <h2 class="title mb-3">{{dataset.friendlyname}}</h2>
        <p>{{dataset.desc}}</p>

        {% if dataset.notebook_present %}
        <p>Retrieval notebooks: <a href="/indices/{{dataset.name}}/retrieval.html">View</a>, <a href="/indices/{{dataset.name}}/retrieval.ipynb">Download</a></p>
        {% endif %}

        <h3>Variants</h3>
        <p>We have {{dataset.variant_count}} variants for this dataset:</p>
        <ul>
            {% for variant in dataset.variants %}
            <li><a href="#{{variant.name}}">{{variant.name}}</a></li>
            {% endfor %}            
        </ul>
        <p></p>

        {% for variant in dataset.variants %}
        <div class="item mb-5">
            <div class="media">
                <div class="media-body">
            <h4><a name="{{variant.name}}">{{variant.name}}</a></h4>
            <div class="meta mb-1"><span class="date">Last Update {{variant.lastupdate}}</span><span class="date">{{variant.size}}</span></div>
            <p>{{variant.desc}}</p>
            <p><a href="indices/{{dataset.name}}/{{variant.name}}/latest/">Browse index</a></p>

            <p>Use this for retrieval in PyTerrier:</p>
            <!-- <pre> -->
                <code id="code{{variant.name}}" class='python copy-snippet'>{% for pipe in variant.pipes %}
{{pipe[0]}} = {{pipe[1]}}
{% endfor %}
                </code>
                <button class="btn" data-clipboard-target="#code{{variant.name}}">
                    Copy to clipboard
                </button>
            <!-- </pre> -->
            
                </div><!--//media-body-->
            </div><!--//media-->
        </div><!--//item-->
        {% endfor %}


    </div>
</article><!--//about-section-->
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
    // console.info('Action:', e.action);
    // console.info('Text:', e.text);
    // console.info('Trigger:', e.trigger);

        e.clearSelection();
    });

    clipboard.on('error', function (e) {
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
    });
</script>
{% endblock %}
